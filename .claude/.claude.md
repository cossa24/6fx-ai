# 6fx.ai Project Directives
# Claude Code reads this file automatically from project root

## PROJECT CONTEXT
You are building a Next.js 15 enterprise landing page for 6fx.ai, an AI development agency. The primary product is ZEUS, an enterprise LLM. This is a lead generation site with dual-track UX (Founders vs CTOs).

## TECH STACK - LOCKED VERSIONS
```
next: 15.1.0
react: 19.0.0
react-dom: 19.0.0
typescript: 5.7.2
tailwindcss: 3.4.17
@supabase/supabase-js: 2.47.10
@supabase/ssr: 0.5.2
@upstash/ratelimit: 2.0.5
@upstash/redis: 1.34.3
zod: 3.24.1
react-hook-form: 7.54.2
@hookform/resolvers: 3.9.1
framer-motion: 11.15.0
lucide-react: 0.469.0
next-themes: 0.4.4
geist: 1.3.1
clsx: 2.1.1
tailwind-merge: 2.6.0
class-variance-authority: 0.7.1
```

## ABSOLUTE RULES

### File Creation
- ALWAYS create complete files - never partial implementations
- ALWAYS include all imports at file top
- ALWAYS add explicit return types to functions
- NEVER use `any` type - use `unknown` with type guards if needed
- NEVER create placeholder comments like `// TODO` or `// implement later`

### TypeScript
- strict mode is ON - respect it
- Use `type` for object shapes, `interface` only for extension
- Prefer `as const` over enums
- All async functions must handle errors with try/catch

### React/Next.js
- Server Components by default
- Add "use client" ONLY when component uses: useState, useEffect, onClick, onChange, or browser APIs
- Use Server Actions for mutations, not API routes
- Forms must use `useActionState` hook (React 19)

### Styling
- Tailwind only - no CSS modules, no styled-components
- Use `cn()` utility for conditional classes
- Mobile-first responsive design

### 2026 Enterprise Trust Color Palette
```
DOMINANT (60%) - Cloud Dancer
  Light: #EDE7E3 (warm airy white)
  Dark:  #1A1F2E (deep navy-charcoal)

SECONDARY (30%) - Midnight Blue  
  --primary: #1D3557 (deep navy, authority)
  --primary-foreground: #EDE7E3

ACCENT (10%) - Electric Cyan
  --accent: #40E0FF (CTAs, innovation)
  --accent-muted: #0EA5E9 (sky-500)

TEXT - Deep Charcoal
  --foreground: #293241 (soft dark)
  --muted-foreground: #5C6B7A

SEMANTIC
  --success: #10B981 (emerald)
  --destructive: #EF4444 (red)
  --warning: #F59E0B (amber)
```

### Design Principles (2026)
- Warm neutrals over stark black/white
- Gradient meshes: midnight blue → electric cyan
- Soft shadows with blue undertones
- Glass morphism with warm overlays
- Trust signaling through blue dominance

### Security
- ALL user input → Zod validation
- ALL LLM input → sanitization + PII redaction
- ALL public endpoints → rate limiting
- NEVER log raw IPs - hash first
- NEVER commit .env files

### Imports Order
```typescript
// 1. React/Next
import { useState } from "react";
import Link from "next/link";

// 2. Third-party
import { z } from "zod";

// 3. Internal (@/)
import { cn } from "@/lib/utils";

// 4. Relative
import { SomeComponent } from "./some-component";

// 5. Types (last)
import type { SomeType } from "@/types";
```

## DIRECTORY STRUCTURE
```
6fx-ai/
├── CLAUDE.md                  # THIS FILE
├── app/
│   ├── (marketing)/          # Route group - no /marketing in URL
│   │   ├── layout.tsx
│   │   ├── page.tsx          # Landing page
│   │   ├── founders/page.tsx
│   │   ├── ctos/page.tsx
│   │   ├── security/page.tsx
│   │   └── pricing/page.tsx
│   ├── api/
│   │   └── health/route.ts
│   ├── llms.txt/route.ts
│   ├── globals.css
│   ├── layout.tsx            # Root layout
│   ├── loading.tsx
│   ├── error.tsx
│   ├── not-found.tsx
│   ├── sitemap.ts
│   └── robots.ts
├── actions/
│   ├── lead.action.ts
│   ├── llm.action.ts
│   └── crm.action.ts
├── components/
│   ├── ui/                   # Shadcn (auto-generated)
│   ├── bento/
│   │   └── zeus-showcase.tsx
│   ├── forms/
│   │   └── multi-step-form.tsx
│   ├── layout/
│   │   ├── header.tsx
│   │   ├── footer.tsx
│   │   ├── theme-provider.tsx
│   │   └── theme-toggle.tsx
│   ├── sections/
│   │   ├── hero.tsx
│   │   └── social-proof.tsx
│   └── seo/
│       └── json-ld.tsx
├── lib/
│   ├── utils.ts
│   ├── supabase/
│   │   ├── client.ts
│   │   ├── server.ts
│   │   └── audit.ts
│   ├── railway/
│   │   ├── zeus-client.ts
│   │   └── twenty-client.ts
│   └── security/
│       ├── sanitize.ts
│       ├── pii-redact.ts
│       └── rate-limit.ts
├── types/
│   ├── schemas.ts
│   ├── database.ts
│   └── index.ts
├── config/
│   ├── site.ts
│   ├── env.ts
│   └── navigation.ts
├── hooks/
│   ├── use-audience.ts
│   └── use-media-query.ts
├── middleware.ts
└── public/
    └── (static assets)
```

## COMPONENT PATTERNS

### Server Component (Default)
```tsx
// No "use client" = Server Component
import { createClient } from "@/lib/supabase/server";

export default async function MyServerComponent() {
  const supabase = await createClient();
  const { data } = await supabase.from("table").select();
  
  return <div>{/* render */}</div>;
}
```

### Client Component
```tsx
"use client";

import { useState } from "react";

export function MyClientComponent() {
  const [state, setState] = useState(false);
  return <button onClick={() => setState(!state)}>Toggle</button>;
}
```

### Form with Server Action (React 19)
```tsx
"use client";

import { useActionState } from "react";
import { myAction } from "@/actions/my.action";

export function MyForm() {
  const [state, formAction, isPending] = useActionState(myAction, null);
  
  return (
    <form action={formAction}>
      <input name="field" required />
      <button type="submit" disabled={isPending}>
        {isPending ? "Submitting..." : "Submit"}
      </button>
      {state?.error && <p className="text-red-500">{state.error}</p>}
    </form>
  );
}
```

### Server Action Pattern
```typescript
"use server";

import { z } from "zod";

const schema = z.object({
  field: z.string().min(1),
});

type State = {
  success: boolean;
  error?: string;
  data?: unknown;
} | null;

export async function myAction(
  prevState: State,
  formData: FormData
): Promise<State> {
  const raw = Object.fromEntries(formData);
  const parsed = schema.safeParse(raw);
  
  if (!parsed.success) {
    return { success: false, error: "Validation failed" };
  }
  
  try {
    // Process...
    return { success: true, data: result };
  } catch (error) {
    return { success: false, error: "Processing failed" };
  }
}
```

## VALIDATION COMMANDS
After each phase, run:
```bash
pnpm type-check  # Must pass with 0 errors
pnpm lint        # Must pass
pnpm build       # Must succeed
```

## ERROR HANDLING
- User-facing: Friendly messages only
- Server logs: Full error details
- Never expose stack traces to client
- All async operations wrapped in try/catch

## NAMING CONVENTIONS
- Components: PascalCase (MyComponent.tsx)
- Utilities: kebab-case (my-utility.ts)
- Actions: kebab-case with .action.ts (lead.action.ts)
- Types: kebab-case (my-types.ts)
- Hooks: camelCase with use- prefix (useMyHook.ts)

## FORBIDDEN
❌ `any` type without explicit justification
❌ `// TODO` comments
❌ Inline styles
❌ console.log in production code (use proper logging)
❌ Fetching data in useEffect
❌ API routes for mutations (use Server Actions)
❌ Storing PII in logs
❌ Committing secrets
